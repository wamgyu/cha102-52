<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
    <meta name="description" content="" />
    <meta name="author" content="" />
    <title>Tables - SB Admin</title>
    <link rel="stylesheet" href="https://cdn.datatables.net/1.10.25/css/jquery.dataTables.min.css">
    <link href="https://cdn.jsdelivr.net/npm/simple-datatables@7.1.2/dist/style.min.css" rel="stylesheet" />
    <script src="jquery-3.7.0.min.js"></script>
</head>
<body>
<h1>datatable介紹</h1>

        <table id="datatablesSimple" class="datatable-table">
            <thead>

            <tr>
                <th>>Name</th>
                <th>>MemberNo</th>
                <th>>BookingState</th>
                <th>>BookingSDate</th>
            </tr>
            </thead>
            <tr>
                <tbody>
                </tbody>
            </tr>


        </table>
<script>




$(document).ready(function () {
    let dataTable; // 宣告 DataTables 變數

    // 初始化 DataTable
    function initializeDataTable(response) {
        if (dataTable) {
            dataTable.destroy(); // 銷毀當前的DataTables實例
        }
        console.log("w.sWidthOrig:", w.sWidthOrig);
        m[v].style.width = null !== w.sWidthOrig && "" !== w.sWidthOrig ? K(w.sWidthOrig) : "";
        console.log("Column width after setting:", m[v].style.width);

        dataTable = $('#datatablesSimple').DataTable({
         "lengthMenu": [[5, 10, 15, 20, -1], [5, 10, 15, 20, "全部"]],
            ajax: {
                url: "http://localhost:8080/PolyBrain/booking/test",
                method: "GET",
                dataSrc: "" // 数据源为空，因为数据是直接数组
            },


            columns: [
                { data: 'bookingno' },
                { data: 'memno'},
                { data: 'bookingstate' },
                { data: 'bookingdate' },
                { data: 'function' ,title: "操作功能",  // 這邊是欄位
                  render: function (data, type, row) {
                  return '<button type="button" class="btn btn-warning btn-sm">編輯</button> ' +
                        '<button type="button" class="btn btn-danger btn-sm">刪除</button>'
                  },
              },
            ],

            language: {
                url: '//cdn.datatables.net/plug-ins/1.13.6/i18n/zh-HANT.json',
            },
            columnDefs:[
                {
                  targets: [0], // 第一欄
                  createdCell: function (cell, cellData, rowData, rowIndex, colIndex) {
                  },
                },
                {
                  targets: "_All",//全部欄
                  className: 'text-center'
                }
              ],
            // 其他设置...
        });
    }

    // 添加一个事件监听器，当鼠标悬停在省略的内容上时显示完整描述
   // $('#itemTable tbody').on('mouseenter', '.ellipsis', function () {
     //   var content = $(this).attr('title');
       // $(this).popover({
         //   trigger: 'manual',
           // placement: 'top',
            //content: content
       // }).popover('show');
   // }).on('mouseleave', '.ellipsis', function () {
     //   $(this).popover('hide');
   // });

    // 初始化 DataTable，首次加载
    initializeDataTable([]);
});
</script>
<script src="https://use.fontawesome.com/releases/v6.3.0/js/all.js" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/simple-datatables@7.1.2/dist/umd/simple-datatables.min.js" crossorigin="anonymous"></script>
<!--<script src="https://cdn.datatables.net/1.10.25/js/jquery.dataTables.min.js"></script>-->
<script src="https://cdn.datatables.net/1.11.3/js/jquery.dataTables.min.js"></script>


</body>
</html>